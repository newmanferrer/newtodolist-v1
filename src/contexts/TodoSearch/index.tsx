//* ///////////////////////////////////////////////////////////////////////////
//* TodoListContext
//* ///////////////////////////////////////////////////////////////////////////
//* ===========================================================================
//* 1.- Imports
//* ===========================================================================
import { createContext, ReactNode, useState, useContext } from 'react';
//* ===========================================================================

//* ===========================================================================
//* 2.- Models / Interfaces
//* ===========================================================================
//* ---------------------------------------------------------------------------
//* 2.1.- ITodoSearchContextValues
//* ---------------------------------------------------------------------------
interface ITodoSearchContextValues {
 search: string;
 setSearch: (value: React.SetStateAction<string>) => void;
}
//* ---------------------------------------------------------------------------

//* ---------------------------------------------------------------------------
//* 2.2.- ITodoSearchProviderProps
//* ---------------------------------------------------------------------------
interface ITodoSearchProviderProps {
 children: ReactNode;
}
//* ---------------------------------------------------------------------------
//* ===========================================================================

//* ===========================================================================
//* 3.- Create the context
//* ===========================================================================
const TodoSearchContext = createContext<ITodoSearchContextValues | undefined>(undefined);
//* ===========================================================================

//* ===========================================================================
//* 4.- Create the Provider
//* ===========================================================================
const TodoSearchProvider = ({ children }: ITodoSearchProviderProps) => {
 const [search, setSearch] = useState<string>('');

 const data: ITodoSearchContextValues = {
  search,
  setSearch
 };

 return <TodoSearchContext.Provider value={data}>{children}</TodoSearchContext.Provider>;
};
//* ===========================================================================

//* ===========================================================================
//* 5.- Create useTodoSearchContext
//* ===========================================================================
const useTodoSearchContext = () => {
 const context = useContext(TodoSearchContext);

 if (context === undefined) {
  throw Error(
   '"useTodoSearchContext", must be used within a "TodoSearchProvider" - "useTodoSearchContext", debe usarse dentro de un "TodoSearchProvider"'
  );
 }

 return context;
};
//* ===========================================================================

//* ===========================================================================
//* 6.- Export
//* ===========================================================================
export { TodoSearchProvider, useTodoSearchContext };
//* ===========================================================================
//* ///////////////////////////////////////////////////////////////////////////
